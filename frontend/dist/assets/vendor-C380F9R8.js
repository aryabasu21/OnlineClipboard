import{E as De}from"./socket-DqgFvcK2.js";var it={exports:{}},ot={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(h,E){var T=h.length;h.push(E);e:for(;0<T;){var S=T-1>>>1,P=h[S];if(0<i(P,E))h[S]=E,h[T]=P,T=S;else break e}}function t(h){return h.length===0?null:h[0]}function r(h){if(h.length===0)return null;var E=h[0],T=h.pop();if(T!==E){h[0]=T;e:for(var S=0,P=h.length,ne=P>>>1;S<ne;){var K=2*(S+1)-1,be=h[K],J=K+1,re=h[J];if(0>i(be,T))J<P&&0>i(re,be)?(h[S]=re,h[J]=T,S=J):(h[S]=be,h[K]=T,S=K);else if(J<P&&0>i(re,T))h[S]=re,h[J]=T,S=J;else break e}}return E}function i(h,E){var T=h.sortIndex-E.sortIndex;return T!==0?T:h.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var a=[],c=[],l=1,g=null,f=3,d=!1,y=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(h){for(var E=t(c);E!==null;){if(E.callback===null)r(c);else if(E.startTime<=h)r(c),E.sortIndex=E.expirationTime,e(a,E);else break;E=t(c)}}function p(h){if(b=!1,m(h),!y)if(t(a)!==null)y=!0,ye(C);else{var E=t(c);E!==null&&we(p,E.startTime-h)}}function C(h,E){y=!1,b&&(b=!1,w(R),R=-1),d=!0;var T=f;try{for(m(E),g=t(a);g!==null&&(!(g.expirationTime>E)||h&&!q());){var S=g.callback;if(typeof S=="function"){g.callback=null,f=g.priorityLevel;var P=S(g.expirationTime<=E);E=n.unstable_now(),typeof P=="function"?g.callback=P:g===t(a)&&r(a),m(E)}else r(a);g=t(a)}if(g!==null)var ne=!0;else{var K=t(c);K!==null&&we(p,K.startTime-E),ne=!1}return ne}finally{g=null,f=T,d=!1}}var B=!1,v=null,R=-1,M=5,k=-1;function q(){return!(n.unstable_now()-k<M)}function j(){if(v!==null){var h=n.unstable_now();k=h;var E=!0;try{E=v(!0,h)}finally{E?I():(B=!1,v=null)}}else B=!1}var I;if(typeof _=="function")I=function(){_(j)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Ut=Ye.port2;Ye.port1.onmessage=j,I=function(){Ut.postMessage(null)}}else I=function(){A(j,0)};function ye(h){v=h,B||(B=!0,I())}function we(h,E){R=A(function(){h(n.unstable_now())},E)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(h){h.callback=null},n.unstable_continueExecution=function(){y||d||(y=!0,ye(C))},n.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<h?Math.floor(1e3/h):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(a)},n.unstable_next=function(h){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var T=f;f=E;try{return h()}finally{f=T}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(h,E){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var T=f;f=h;try{return E()}finally{f=T}},n.unstable_scheduleCallback=function(h,E,T){var S=n.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?S+T:S):T=S,h){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=T+P,h={id:l++,callback:E,priorityLevel:h,startTime:T,expirationTime:P,sortIndex:-1},T>S?(h.sortIndex=T,e(c,h),t(a)===null&&h===t(c)&&(b?(w(R),R=-1):b=!0,we(p,T-S))):(h.sortIndex=P,e(a,h),y||d||(y=!0,ye(C))),h},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(h){var E=f;return function(){var T=f;f=E;try{return h.apply(this,arguments)}finally{f=T}}}})(ot);it.exports=ot;var fr=it.exports;const D=Object.create(null);D.open="0";D.close="1";D.ping="2";D.pong="3";D.message="4";D.upgrade="5";D.noop="6";const ue=Object.create(null);Object.keys(D).forEach(n=>{ue[D[n]]=n});const Pe={type:"error",data:"parser error"},st=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",at=typeof ArrayBuffer=="function",ut=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Oe=({type:n,data:e},t,r)=>st&&e instanceof Blob?t?r(e):We(e,r):at&&(e instanceof ArrayBuffer||ut(e))?t?r(e):We(new Blob([e]),r):r(D[n]+(e||"")),We=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function Ge(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let Ee;function Dt(n,e){if(st&&n.data instanceof Blob)return n.data.arrayBuffer().then(Ge).then(e);if(at&&(n.data instanceof ArrayBuffer||ut(n.data)))return e(Ge(n.data));Oe(n,!1,t=>{Ee||(Ee=new TextEncoder),e(Ee.encode(t))})}const Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Xe.length;n++)X[Xe.charCodeAt(n)]=n;const Ot=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,u,a;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const c=new ArrayBuffer(e),l=new Uint8Array(c);for(r=0;r<t;r+=4)o=X[n.charCodeAt(r)],s=X[n.charCodeAt(r+1)],u=X[n.charCodeAt(r+2)],a=X[n.charCodeAt(r+3)],l[i++]=o<<2|s>>4,l[i++]=(s&15)<<4|u>>2,l[i++]=(u&3)<<6|a&63;return c},Ft=typeof ArrayBuffer=="function",Fe=(n,e)=>{if(typeof n!="string")return{type:"message",data:ct(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:qt(n.substring(1),e)}:ue[t]?n.length>1?{type:ue[t],data:n.substring(1)}:{type:ue[t]}:Pe},qt=(n,e)=>{if(Ft){const t=Ot(n);return ct(t,e)}else return{base64:!0,data:n}},ct=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},lt="",Ht=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((o,s)=>{Oe(o,!1,u=>{r[s]=u,++i===t&&e(r.join(lt))})})},xt=(n,e)=>{const t=n.split(lt),r=[];for(let i=0;i<t.length;i++){const o=Fe(t[i],e);if(r.push(o),o.type==="error")break}return r};function Vt(){return new TransformStream({transform(n,e){Dt(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let _e;function ie(n){return n.reduce((e,t)=>e+t.length,0)}function oe(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function zt(n,e){_e||(_e=new TextDecoder);const t=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,u){for(t.push(s);;){if(r===0){if(ie(t)<1)break;const a=oe(t,1);o=(a[0]&128)===128,i=a[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(ie(t)<2)break;const a=oe(t,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(ie(t)<8)break;const a=oe(t,8),c=new DataView(a.buffer,a.byteOffset,a.length),l=c.getUint32(0);if(l>Math.pow(2,21)-1){u.enqueue(Pe);break}i=l*Math.pow(2,32)+c.getUint32(4),r=3}else{if(ie(t)<i)break;const a=oe(t,i);u.enqueue(Fe(o?a:_e.decode(a),e)),r=0}if(i===0||i>n){u.enqueue(Pe);break}}}})}const ft=4,qe=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),L=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jt="arraybuffer";function ht(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const Kt=L.setTimeout,Jt=L.clearTimeout;function He(n,e){e.useNativeTimers?(n.setTimeoutFn=Kt.bind(L),n.clearTimeoutFn=Jt.bind(L)):(n.setTimeoutFn=L.setTimeout.bind(L),n.clearTimeoutFn=L.clearTimeout.bind(L))}const $t=1.33;function Yt(n){return typeof n=="string"?Wt(n):Math.ceil((n.byteLength||n.size)*$t)}function Wt(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function dt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Gt(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function Xt(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class Qt extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class xe extends De{constructor(e){super(),this.writable=!1,He(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Qt(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Fe(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=Gt(e);return t.length?"?"+t:""}}class Zt extends xe{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};xt(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ht(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=dt()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let gt=!1;try{gt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const en=gt;function tn(){}class nn extends Zt{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}class U extends De{constructor(e,t,r){super(),this.createRequest=e,He(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const t=ht(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=U.requestsCount++,U.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tn,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete U.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}U.requestsCount=0;U.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Qe);else if(typeof addEventListener=="function"){const n="onpagehide"in L?"pagehide":"unload";addEventListener(n,Qe,!1)}}function Qe(){for(let n in U.requests)U.requests.hasOwnProperty(n)&&U.requests[n].abort()}const rn=function(){const n=pt({xdomain:!1});return n&&n.responseType!==null}();class on extends nn{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=rn&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new U(pt,this.uri(),e)}}function pt(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||en))return new XMLHttpRequest}catch{}if(!e)try{return new L[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const mt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class sn extends xe{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=mt?{}:ht(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;Oe(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&qe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=dt()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Te=L.WebSocket||L.MozWebSocket;class an extends sn{createSocket(e,t,r){return mt?new Te(e,t,r):t?new Te(e,t):new Te(e)}doWrite(e,t){this.ws.send(t)}}class un extends xe{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=zt(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=Vt();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:u,value:a})=>{u||(this.onPacket(a),o())}).catch(u=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&qe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const cn={websocket:an,webtransport:un,polling:on},ln=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ze(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=ln.exec(n||""),o={},s=14;for(;s--;)o[fn[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=hn(o,o.path),o.queryKey=dn(o,o.query),o}function hn(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function dn(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}const Re=typeof addEventListener=="function"&&typeof removeEventListener=="function",ce=[];Re&&addEventListener("offline",()=>{ce.forEach(n=>n())},!1);class V extends De{constructor(e,t){if(super(),this.binaryType=jt,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const r=Ze(e);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Ze(t.host).host);He(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Xt(this.opts.query)),Re&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ce.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=ft,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&V.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",V.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=Yt(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,qe(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:t,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(V.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Re&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ce.indexOf(this._offlineEventListener);r!==-1&&ce.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}V.protocol=ft;class gn extends V{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;V.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;V.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function o(){r||(r=!0,l(),t.close(),t=null)}const s=g=>{const f=new Error("probe error: "+g);f.transport=t.name,o(),this.emitReserved("upgradeError",f)};function u(){s("transport closed")}function a(){s("socket closed")}function c(g){t&&g.name!==t.name&&o()}const l=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",u),this.off("close",a),this.off("upgrading",c)};t.once("open",i),t.once("error",s),t.once("close",u),this.once("close",a),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class hr extends gn{constructor(e,t={}){const r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>cn[i]).filter(i=>!!i)),super(e,r)}}var he={},pn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},yt={},N={};let Ve;const mn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];N.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};N.getSymbolTotalCodewords=function(e){return mn[e]};N.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};N.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ve=e};N.isKanjiModeEnabled=function(){return typeof Ve<"u"};N.toSJIS=function(e){return Ve(e)};var de={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(de);function wt(){this.buffer=[],this.length=0}wt.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var yn=wt;function te(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}te.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};te.prototype.get=function(n,e){return this.data[n*this.size+e]};te.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};te.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var wn=te,bt={};(function(n){const e=N.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,u=[o-7];for(let a=1;a<i-1;a++)u[a]=u[a-1]-s;return u.push(6),u.reverse()},n.getPositions=function(r){const i=[],o=n.getRowColCoords(r),s=o.length;for(let u=0;u<s;u++)for(let a=0;a<s;a++)u===0&&a===0||u===0&&a===s-1||u===s-1&&a===0||i.push([o[u],o[a]]);return i}})(bt);var Et={};const bn=N.getSymbolSize,et=7;Et.getPositions=function(e){const t=bn(e);return[[0,0],[t-et,0],[0,t-et]]};var _t={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const o=i.size;let s=0,u=0,a=0,c=null,l=null;for(let g=0;g<o;g++){u=a=0,c=l=null;for(let f=0;f<o;f++){let d=i.get(g,f);d===c?u++:(u>=5&&(s+=e.N1+(u-5)),c=d,u=1),d=i.get(f,g),d===l?a++:(a>=5&&(s+=e.N1+(a-5)),l=d,a=1)}u>=5&&(s+=e.N1+(u-5)),a>=5&&(s+=e.N1+(a-5))}return s},n.getPenaltyN2=function(i){const o=i.size;let s=0;for(let u=0;u<o-1;u++)for(let a=0;a<o-1;a++){const c=i.get(u,a)+i.get(u,a+1)+i.get(u+1,a)+i.get(u+1,a+1);(c===4||c===0)&&s++}return s*e.N2},n.getPenaltyN3=function(i){const o=i.size;let s=0,u=0,a=0;for(let c=0;c<o;c++){u=a=0;for(let l=0;l<o;l++)u=u<<1&2047|i.get(c,l),l>=10&&(u===1488||u===93)&&s++,a=a<<1&2047|i.get(l,c),l>=10&&(a===1488||a===93)&&s++}return s*e.N3},n.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let a=0;a<s;a++)o+=i.data[a];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function t(r,i,o){switch(r){case n.Patterns.PATTERN000:return(i+o)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(i+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return i*o%2+i*o%3===0;case n.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case n.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,o){const s=o.size;for(let u=0;u<s;u++)for(let a=0;a<s;a++)o.isReserved(a,u)||o.xor(a,u,t(i,a,u))},n.getBestMask=function(i,o){const s=Object.keys(n.Patterns).length;let u=0,a=1/0;for(let c=0;c<s;c++){o(c),n.applyMask(c,i);const l=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(c,i),l<a&&(a=l,u=c)}return u}})(_t);var ge={};const x=de,se=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ae=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ge.getBlocksCount=function(e,t){switch(t){case x.L:return se[(e-1)*4+0];case x.M:return se[(e-1)*4+1];case x.Q:return se[(e-1)*4+2];case x.H:return se[(e-1)*4+3];default:return}};ge.getTotalCodewordsCount=function(e,t){switch(t){case x.L:return ae[(e-1)*4+0];case x.M:return ae[(e-1)*4+1];case x.Q:return ae[(e-1)*4+2];case x.H:return ae[(e-1)*4+3];default:return}};var Tt={},pe={};const Z=new Uint8Array(512),le=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Z[t]=e,le[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Z[t]=Z[t-255]})();pe.log=function(e){if(e<1)throw new Error("log("+e+")");return le[e]};pe.exp=function(e){return Z[e]};pe.mul=function(e,t){return e===0||t===0?0:Z[le[e]+le[t]]};(function(n){const e=pe;n.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let u=0;u<i.length;u++)o[s+u]^=e.mul(r[s],i[u]);return o},n.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let a=0;a<i.length;a++)o[a]^=e.mul(i[a],s);let u=0;for(;u<o.length&&o[u]===0;)u++;o=o.slice(u)}return o},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=n.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(Tt);const Ct=Tt;function ze(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}ze.prototype.initialize=function(e){this.degree=e,this.genPoly=Ct.generateECPolynomial(this.degree)};ze.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=Ct.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var En=ze,Bt={},z={},je={};je.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var O={};const vt="[0-9]+",_n="[A-Z $%*+\\-./:]+";let ee="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ee=ee.replace(/u/g,"\\u");const Tn="(?:(?![A-Z0-9 $%*+\\-./:]|"+ee+`)(?:.|[\r
]))+`;O.KANJI=new RegExp(ee,"g");O.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");O.BYTE=new RegExp(Tn,"g");O.NUMERIC=new RegExp(vt,"g");O.ALPHANUMERIC=new RegExp(_n,"g");const Cn=new RegExp("^"+ee+"$"),Bn=new RegExp("^"+vt+"$"),vn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");O.testKanji=function(e){return Cn.test(e)};O.testNumeric=function(e){return Bn.test(e)};O.testAlphanumeric=function(e){return vn.test(e)};(function(n){const e=je,t=O;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(o,s){if(n.isValid(o))return o;try{return r(o)}catch{return s}}})(z);(function(n){const e=N,t=ge,r=de,i=z,o=je,s=7973,u=e.getBCHDigit(s);function a(f,d,y){for(let b=1;b<=40;b++)if(d<=n.getCapacity(b,y,f))return b}function c(f,d){return i.getCharCountIndicator(f,d)+4}function l(f,d){let y=0;return f.forEach(function(b){const A=c(b.mode,d);y+=A+b.getBitsLength()}),y}function g(f,d){for(let y=1;y<=40;y++)if(l(f,y)<=n.getCapacity(y,d,i.MIXED))return y}n.from=function(d,y){return o.isValid(d)?parseInt(d,10):y},n.getCapacity=function(d,y,b){if(!o.isValid(d))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const A=e.getSymbolTotalCodewords(d),w=t.getTotalCodewordsCount(d,y),_=(A-w)*8;if(b===i.MIXED)return _;const m=_-c(b,d);switch(b){case i.NUMERIC:return Math.floor(m/10*3);case i.ALPHANUMERIC:return Math.floor(m/11*2);case i.KANJI:return Math.floor(m/13);case i.BYTE:default:return Math.floor(m/8)}},n.getBestVersionForData=function(d,y){let b;const A=r.from(y,r.M);if(Array.isArray(d)){if(d.length>1)return g(d,A);if(d.length===0)return 1;b=d[0]}else b=d;return a(b.mode,b.getLength(),A)},n.getEncodedBits=function(d){if(!o.isValid(d)||d<7)throw new Error("Invalid QR Code version");let y=d<<12;for(;e.getBCHDigit(y)-u>=0;)y^=s<<e.getBCHDigit(y)-u;return d<<12|y}})(Bt);var St={};const Ie=N,At=1335,Sn=21522,tt=Ie.getBCHDigit(At);St.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;Ie.getBCHDigit(i)-tt>=0;)i^=At<<Ie.getBCHDigit(i)-tt;return(r<<10|i)^Sn};var Pt={};const An=z;function $(n){this.mode=An.NUMERIC,this.data=n.toString()}$.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};$.prototype.getLength=function(){return this.data.length};$.prototype.getBitsLength=function(){return $.getBitsLength(this.data.length)};$.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,o*3+1))};var Pn=$;const Rn=z,Ce=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Y(n){this.mode=Rn.ALPHANUMERIC,this.data=n}Y.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=Ce.indexOf(this.data[t])*45;r+=Ce.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(Ce.indexOf(this.data[t]),6)};var In=Y;const kn=z;function W(n){this.mode=kn.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}W.getBitsLength=function(e){return e*8};W.prototype.getLength=function(){return this.data.length};W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)};W.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var Nn=W;const Ln=z,Mn=N;function G(n){this.mode=Ln.KANJI,this.data=n}G.getBitsLength=function(e){return e*13};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=Mn.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var Un=G,Rt={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var o={},s={};s[r]=0;var u=e.PriorityQueue.make();u.push(r,0);for(var a,c,l,g,f,d,y,b,A;!u.empty();){a=u.pop(),c=a.value,g=a.cost,f=t[c]||{};for(l in f)f.hasOwnProperty(l)&&(d=f[l],y=g+d,b=s[l],A=typeof s[l]>"u",(A||b>y)&&(s[l]=y,u.push(l,y),o[l]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],o=r;o;)i.push(o),t[o],o=t[o];return i.reverse(),i},find_path:function(t,r,i){var o=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(Rt);var Dn=Rt.exports;(function(n){const e=z,t=Pn,r=In,i=Nn,o=Un,s=O,u=N,a=Dn;function c(w){return unescape(encodeURIComponent(w)).length}function l(w,_,m){const p=[];let C;for(;(C=w.exec(m))!==null;)p.push({data:C[0],index:C.index,mode:_,length:C[0].length});return p}function g(w){const _=l(s.NUMERIC,e.NUMERIC,w),m=l(s.ALPHANUMERIC,e.ALPHANUMERIC,w);let p,C;return u.isKanjiModeEnabled()?(p=l(s.BYTE,e.BYTE,w),C=l(s.KANJI,e.KANJI,w)):(p=l(s.BYTE_KANJI,e.BYTE,w),C=[]),_.concat(m,p,C).sort(function(v,R){return v.index-R.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function f(w,_){switch(_){case e.NUMERIC:return t.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return o.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function d(w){return w.reduce(function(_,m){const p=_.length-1>=0?_[_.length-1]:null;return p&&p.mode===m.mode?(_[_.length-1].data+=m.data,_):(_.push(m),_)},[])}function y(w){const _=[];for(let m=0;m<w.length;m++){const p=w[m];switch(p.mode){case e.NUMERIC:_.push([p,{data:p.data,mode:e.ALPHANUMERIC,length:p.length},{data:p.data,mode:e.BYTE,length:p.length}]);break;case e.ALPHANUMERIC:_.push([p,{data:p.data,mode:e.BYTE,length:p.length}]);break;case e.KANJI:_.push([p,{data:p.data,mode:e.BYTE,length:c(p.data)}]);break;case e.BYTE:_.push([{data:p.data,mode:e.BYTE,length:c(p.data)}])}}return _}function b(w,_){const m={},p={start:{}};let C=["start"];for(let B=0;B<w.length;B++){const v=w[B],R=[];for(let M=0;M<v.length;M++){const k=v[M],q=""+B+M;R.push(q),m[q]={node:k,lastCount:0},p[q]={};for(let j=0;j<C.length;j++){const I=C[j];m[I]&&m[I].node.mode===k.mode?(p[I][q]=f(m[I].lastCount+k.length,k.mode)-f(m[I].lastCount,k.mode),m[I].lastCount+=k.length):(m[I]&&(m[I].lastCount=k.length),p[I][q]=f(k.length,k.mode)+4+e.getCharCountIndicator(k.mode,_))}}C=R}for(let B=0;B<C.length;B++)p[C[B]].end=0;return{map:p,table:m}}function A(w,_){let m;const p=e.getBestModeForData(w);if(m=e.from(_,p),m!==e.BYTE&&m.bit<p.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(m)+`.
 Suggested mode is: `+e.toString(p));switch(m===e.KANJI&&!u.isKanjiModeEnabled()&&(m=e.BYTE),m){case e.NUMERIC:return new t(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new o(w);case e.BYTE:return new i(w)}}n.fromArray=function(_){return _.reduce(function(m,p){return typeof p=="string"?m.push(A(p,null)):p.data&&m.push(A(p.data,p.mode)),m},[])},n.fromString=function(_,m){const p=g(_,u.isKanjiModeEnabled()),C=y(p),B=b(C,m),v=a.find_path(B.map,"start","end"),R=[];for(let M=1;M<v.length-1;M++)R.push(B.table[v[M]].node);return n.fromArray(d(R))},n.rawSplit=function(_){return n.fromArray(g(_,u.isKanjiModeEnabled()))}})(Pt);const me=N,Be=de,On=yn,Fn=wn,qn=bt,Hn=Et,ke=_t,Ne=ge,xn=En,fe=Bt,Vn=St,zn=z,ve=Pt;function jn(n,e){const t=n.size,r=Hn.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let u=-1;u<=7;u++)if(!(o+u<=-1||t<=o+u))for(let a=-1;a<=7;a++)s+a<=-1||t<=s+a||(u>=0&&u<=6&&(a===0||a===6)||a>=0&&a<=6&&(u===0||u===6)||u>=2&&u<=4&&a>=2&&a<=4?n.set(o+u,s+a,!0,!0):n.set(o+u,s+a,!1,!0))}}function Kn(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function Jn(n,e){const t=qn.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],o=t[r][1];for(let s=-2;s<=2;s++)for(let u=-2;u<=2;u++)s===-2||s===2||u===-2||u===2||s===0&&u===0?n.set(i+s,o+u,!0,!0):n.set(i+s,o+u,!1,!0)}}function $n(n,e){const t=n.size,r=fe.getEncodedBits(e);let i,o,s;for(let u=0;u<18;u++)i=Math.floor(u/3),o=u%3+t-8-3,s=(r>>u&1)===1,n.set(i,o,s,!0),n.set(o,i,s,!0)}function Se(n,e,t){const r=n.size,i=Vn.getEncodedBits(e,t);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(r-15+o,8,s,!0),o<8?n.set(8,r-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(r-8,8,1,!0)}function Yn(n,e){const t=n.size;let r=-1,i=t-1,o=7,s=0;for(let u=t-1;u>0;u-=2)for(u===6&&u--;;){for(let a=0;a<2;a++)if(!n.isReserved(i,u-a)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),n.set(i,u-a,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function Wn(n,e,t){const r=new On;t.forEach(function(a){r.put(a.mode.bit,4),r.put(a.getLength(),zn.getCharCountIndicator(a.mode,n)),a.write(r)});const i=me.getSymbolTotalCodewords(n),o=Ne.getTotalCodewordsCount(n,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const u=(s-r.getLengthInBits())/8;for(let a=0;a<u;a++)r.put(a%2?17:236,8);return Gn(r,n,e)}function Gn(n,e,t){const r=me.getSymbolTotalCodewords(e),i=Ne.getTotalCodewordsCount(e,t),o=r-i,s=Ne.getBlocksCount(e,t),u=r%s,a=s-u,c=Math.floor(r/s),l=Math.floor(o/s),g=l+1,f=c-l,d=new xn(f);let y=0;const b=new Array(s),A=new Array(s);let w=0;const _=new Uint8Array(n.buffer);for(let v=0;v<s;v++){const R=v<a?l:g;b[v]=_.slice(y,y+R),A[v]=d.encode(b[v]),y+=R,w=Math.max(w,R)}const m=new Uint8Array(r);let p=0,C,B;for(C=0;C<w;C++)for(B=0;B<s;B++)C<b[B].length&&(m[p++]=b[B][C]);for(C=0;C<f;C++)for(B=0;B<s;B++)m[p++]=A[B][C];return m}function Xn(n,e,t,r){let i;if(Array.isArray(n))i=ve.fromArray(n);else if(typeof n=="string"){let c=e;if(!c){const l=ve.rawSplit(n);c=fe.getBestVersionForData(l,t)}i=ve.fromString(n,c||40)}else throw new Error("Invalid data");const o=fe.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=Wn(e,t,i),u=me.getSymbolSize(e),a=new Fn(u);return jn(a,e),Kn(a),Jn(a,e),Se(a,t,0),e>=7&&$n(a,e),Yn(a,s),isNaN(r)&&(r=ke.getBestMask(a,Se.bind(null,a,t))),ke.applyMask(r,a),Se(a,t,r),{modules:a,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}yt.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Be.M,i,o;return typeof t<"u"&&(r=Be.from(t.errorCorrectionLevel,Be.M),i=fe.from(t.version),o=ke.from(t.maskPattern),t.toSJISFunc&&me.setToSJISFunction(t.toSJISFunc)),Xn(e,i,r,o)};var It={},Ke={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const o=n.getScale(r,i);return Math.floor((r+i.margin*2)*o)},n.qrToImageData=function(r,i,o){const s=i.modules.size,u=i.modules.data,a=n.getScale(s,o),c=Math.floor((s+o.margin*2)*a),l=o.margin*a,g=[o.color.light,o.color.dark];for(let f=0;f<c;f++)for(let d=0;d<c;d++){let y=(f*c+d)*4,b=o.color.light;if(f>=l&&d>=l&&f<c-l&&d<c-l){const A=Math.floor((f-l)/a),w=Math.floor((d-l)/a);b=g[u[A*s+w]?1:0]}r[y++]=b.r,r[y++]=b.g,r[y++]=b.b,r[y]=b.a}}})(Ke);(function(n){const e=Ke;function t(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,s,u){let a=u,c=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(c=r()),a=e.getOptions(a);const l=e.getImageWidth(o.modules.size,a),g=c.getContext("2d"),f=g.createImageData(l,l);return e.qrToImageData(f.data,o,a),t(g,c,l),g.putImageData(f,0,0),c},n.renderToDataURL=function(o,s,u){let a=u;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const c=n.render(o,s,a),l=a.type||"image/png",g=a.rendererOpts||{};return c.toDataURL(l,g.quality)}})(It);var kt={};const Qn=Ke;function nt(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function Ae(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function Zn(n,e,t){let r="",i=0,o=!1,s=0;for(let u=0;u<n.length;u++){const a=Math.floor(u%e),c=Math.floor(u/e);!a&&!o&&(o=!0),n[u]?(s++,u>0&&a>0&&n[u-1]||(r+=o?Ae("M",a+t,.5+c+t):Ae("m",i,0),i=0,o=!1),a+1<e&&n[u+1]||(r+=Ae("h",s),s=0)):i++}return r}kt.render=function(e,t,r){const i=Qn.getOptions(t),o=e.modules.size,s=e.modules.data,u=o+i.margin*2,a=i.color.light.a?"<path "+nt(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",c="<path "+nt(i.color.dark,"stroke")+' d="'+Zn(s,o,i.margin)+'"/>',l='viewBox="0 0 '+u+" "+u+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof r=="function"&&r(null,f),f};const er=pn,Le=yt,Nt=It,tr=kt;function Je(n,e,t,r,i){const o=[].slice.call(arguments,1),s=o.length,u=typeof o[s-1]=="function";if(!u&&!er())throw new Error("Callback required as last argument");if(u){if(s<2)throw new Error("Too few arguments provided");s===2?(i=t,t=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=r=void 0):s===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(a,c){try{const l=Le.create(t,r);a(n(l,e,r))}catch(l){c(l)}})}try{const a=Le.create(t,r);i(null,n(a,e,r))}catch(a){i(a)}}he.create=Le.create;he.toCanvas=Je.bind(null,Nt.render);he.toDataURL=Je.bind(null,Nt.renderToDataURL);he.toString=Je.bind(null,function(n,e,t){return tr.render(n,t)});let nr={data:""},rr=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||nr,ir=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,or=/\/\*[^]*?\*\/|  +/g,rt=/\n+/g,H=(n,e)=>{let t="",r="",i="";for(let o in n){let s=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+s+";":r+=o[1]=="f"?H(s,o):o+"{"+H(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=H(s,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,u):u?u+" "+a:a)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=H.p?H.p(o,s):o+":"+s+";")}return t+(e&&i?e+"{"+i+"}":i)+r},F={},Lt=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+Lt(n[t]);return e}return n},sr=(n,e,t,r,i)=>{let o=Lt(n),s=F[o]||(F[o]=(a=>{let c=0,l=11;for(;c<a.length;)l=101*l+a.charCodeAt(c++)>>>0;return"go"+l})(o));if(!F[s]){let a=o!==n?n:(c=>{let l,g,f=[{}];for(;l=ir.exec(c.replace(or,""));)l[4]?f.shift():l[3]?(g=l[3].replace(rt," ").trim(),f.unshift(f[0][g]=f[0][g]||{})):f[0][l[1]]=l[2].replace(rt," ").trim();return f[0]})(n);F[s]=H(i?{["@keyframes "+s]:a}:a,t?"":"."+s)}let u=t&&F.g?F.g:null;return t&&(F.g=F[s]),((a,c,l,g)=>{g?c.data=c.data.replace(g,a):c.data.indexOf(a)===-1&&(c.data=l?a+c.data:c.data+a)})(F[s],e,r,u),s},ar=(n,e,t)=>n.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let u=s(t),a=u&&u.props&&u.props.className||/^go/.test(u)&&u;s=a?"."+a:u&&typeof u=="object"?u.props?"":H(u,""):u===!1?"":u}return r+i+(s??"")},"");function $e(n){let e=this||{},t=n.call?n(e.p):n;return sr(t.unshift?t.raw?ar(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,rr(e.target),e.g,e.o,e.k)}let Mt,Me,Ue;$e.bind({g:1});let dr=$e.bind({k:1});function gr(n,e,t,r){H.p=e,Mt=n,Me=t,Ue=r}function pr(n,e){let t=this||{};return function(){let r=arguments;function i(o,s){let u=Object.assign({},o),a=u.className||i.className;t.p=Object.assign({theme:Me&&Me()},u),t.o=/ *go\d+/.test(a),u.className=$e.apply(t,r)+(a?" "+a:"");let c=n;return n[0]&&(c=u.as||n,delete u.as),Ue&&c[0]&&Ue(u),Mt(c,u)}return i}}class Q extends Error{}Q.prototype.name="InvalidTokenError";function ur(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function cr(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ur(e)}catch{return atob(e)}}function mr(n,e){if(typeof n!="string")throw new Q("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,r=n.split(".")[t];if(typeof r!="string")throw new Q(`Invalid token specified: missing part #${t+1}`);let i;try{i=cr(r)}catch(o){throw new Q(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Q(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}export{hr as S,pr as a,he as b,dr as h,He as i,mr as j,gr as m,qe as n,Ze as p,fr as s,$e as u};
